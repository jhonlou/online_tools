<% content_for :title, "复杂密码生成" %>

<pre id="password"></pre>
<input type="button" value="换一个"  onclick="gen(true);"/>
<input type="button" value="不要特殊字符"  onclick="gen(false);"/>
<script type="text/javascript">


    function password(length, special) {
        var iteration = 0;
        var password = "";
        var randomNumber;
        if(special == undefined){
            var special = false;
        }
        while(iteration < length){
            randomNumber = (Math.floor((Math.random() * 100)) % 94) + 33;
            if(!special){
                if ((randomNumber >=33) && (randomNumber <=47)) { continue; }
                if ((randomNumber >=58) && (randomNumber <=64)) { continue; }
                if ((randomNumber >=91) && (randomNumber <=96)) { continue; }
                if ((randomNumber >=123) && (randomNumber <=126)) { continue; }
            }
            iteration++;
            password += String.fromCharCode(randomNumber);
        }
        return password;
    }


    function gen(special)
    {
        $('#password').html(password(32,special));
    }

        gen(true);

</script>
